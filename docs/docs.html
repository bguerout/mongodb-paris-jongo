<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0066)http://docs.mongodb.org/manual/reference/operators/?highlight=#$or -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico">



  
    
    
    <title>Operator Reference — MongoDB Manual</title>
    
    <link rel="stylesheet" href="docs/mongodb-docs.css" type="text/css">
    <link rel="stylesheet" href="docs/pygments.css" type="text/css">
    
    <script type="text/javascript" async="" src="docs/ga.js"></script><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="docs/jquery.js"></script>
    <script type="text/javascript" src="docs/underscore.js"></script>
    <script type="text/javascript" src="docs/doctools.js"></script>
    <link rel="author" title="About these documents" href="http://docs.mongodb.org/manual/about/">
    <link rel="top" title="MongoDB Manual" href="http://docs.mongodb.org/manual/">
    <link rel="up" title="Reference" href="http://docs.mongodb.org/manual/reference/">
    <link rel="next" title="Command Reference" href="http://docs.mongodb.org/manual/reference/commands/">
    <link rel="prev" title="Configuration File Options" href="http://docs.mongodb.org/manual/reference/configuration-options/"> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>

      <ul>
          <li><p><a href="http://docs.mongodb.org/manual/"><img class="logo" src="docs/logo-mongodb.png" alt="Logo"></a></p></li><a href="http://docs.mongodb.org/manual/">
        </a><li class="right"><a href="http://docs.mongodb.org/manual/">| 
</a><a href="https://github.com/mongodb/docs/blob/master/source/reference/operators.txt" target="_blank">Edit this Page</a> </li>
        <li class="right">| <a href="http://github.com/mongodb/docs" title="Fork the documentation on GitHub to contribute.">GitHub</a></li>
        <li class="right"><a href="http://jira.mongodb.org/browse/DOCS" title="Open a case in Jira to report a problem with the documentation.">Jira</a></li>
        <li><a href="http://docs.mongodb.org/manual/contents/">MongoDB Manual</a> (<a href="http://docs.mongodb.org/manual/genindex/">index</a>)  »</li>
          <li><a href="http://docs.mongodb.org/manual/reference/" accesskey="U">Reference</a> »</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body"><span class="highlighted"></span><span class="highlighted"></span>
            
  <div class="section" id="operator-reference">
<h1>Operator Reference<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#operator-reference" title="Permalink to this headline">¶</a></h1>
<p>This document contains a reference to all <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-operator"><em class="xref std std-term">operators</em></a>
used with MongoDB in version 2.0.6.</p>
<div class="section" id="query-selectors">
<span id="id1"></span><h2>Query Selectors<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#query-selectors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="comparison">
<h3>Comparison<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#comparison" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_lt">
<tt class="descname">$lt</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_lt" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_lt" title="$lt"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$lt</span></tt></a> comparison operator provides the ability to select
documents where a field is less than (e.g. <tt class="docutils literal"><span class="pre">&lt;</span></tt>) a value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lt</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where a value
of <tt class="docutils literal"><span class="pre">field</span></tt> is less than the specified <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_gt">
<tt class="descname">$gt</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_gt" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_gt" title="$gt"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$gt</span></tt></a> comparison operator provides the ability to select
documents where a field is greater than (e.g. <tt class="docutils literal"><span class="pre">&gt;</span></tt>) a value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where a value
of <tt class="docutils literal"><span class="pre">field</span></tt> is greater than the specified <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">field</span></tt> holds an array, only one value in the array needs to
be greater than the specified <tt class="docutils literal"><span class="pre">value</span></tt> to produce a succesful
match.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_lte">
<tt class="descname">$lte</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_lte" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_lte" title="$lte"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$lte</span></tt></a> comparison operator provides the ability to select
documents where a field is less than or equal to (e.g. <tt class="docutils literal"><span class="pre">&lt;=</span></tt>) a
value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lte</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the value
of <tt class="docutils literal"><span class="pre">field</span></tt> less than or equal to the specified <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_gte">
<tt class="descname">$gte</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_gte" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_gte" title="$gte"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$gte</span></tt></a> comparison operator provides the ability to select
documents where a field is greater than or equal to (e.g. <tt class="docutils literal"><span class="pre">&gt;=</span></tt>) a
value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gte</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the value
of <tt class="docutils literal"><span class="pre">field</span></tt> greater than or equal to the specified <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
</dd></dl>

<p>You may combine comparison operators to specify ranges:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">$lt</span><span class="o">:</span> <span class="nx">value2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This statement returns all documents with <tt class="docutils literal"><span class="pre">field</span></tt> between
<tt class="docutils literal"><span class="pre">value1</span></tt> and <tt class="docutils literal"><span class="pre">value2</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Fields containg arrays match conditional operators, if only one
item matches. Therefore, the following query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span> <span class="nx">$lt</span><span class="o">:</span><span class="mi">2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Will match a document that contains the following field:</p>
<div class="last highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="document">
<h3>Document<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#document" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_all">
<tt class="descname">$all</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_all" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_all" title="$all"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$all</span></tt></a> operator matches a minimum set of elements that must
be present in a document’s <tt class="docutils literal"><span class="pre">field</span></tt>, as in the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$all</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">3</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the value of
<tt class="docutils literal"><span class="pre">field</span></tt> is an array that is equivalent to or a superset of <tt class="docutils literal"><span class="pre">[</span>
<span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">]</span></tt>. The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_all" title="$all"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$all</span></tt></a> operator will not return any arrays
that are subsets; for example, the above query matches <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">[</span>
<span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span> <span class="pre">}</span></tt> but not <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">[</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">]</span> <span class="pre">}</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In most cases, MongoDB does not treat arrays as sets. This
operator provides a notable exception to this general approach</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_exists">
<tt class="descname">$exists</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_exists" title="$exists"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$exists</span></tt></a> operator tests documents for the existence
of a field. The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_exists" title="$exists"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$exists</span></tt></a> operator accepts either true and
false values. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$exists</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> that have <tt class="docutils literal"><span class="pre">field</span></tt>, while:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$exists</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> that do <em>not</em> have <tt class="docutils literal"><span class="pre">field</span></tt>
specified.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_ne">
<tt class="descname">$ne</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_ne" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_ne" title="$ne"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$ne</span></tt></a> operator returns documents where a field is not
equal to the specified value. The following command:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$ne</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> with <tt class="docutils literal"><span class="pre">field</span></tt> that does not
equal 100.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_in">
<tt class="descname">$in</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a> operator allows you to specify a set of possible
matches for any value. Consider the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$in</span><span class="o">:</span> <span class="nx">array</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a> returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where
<tt class="docutils literal"><span class="pre">field</span></tt> has a value included in <tt class="docutils literal"><span class="pre">array</span></tt>. This is analogous to
the <tt class="docutils literal"><span class="pre">IN</span></tt> modifier in SQL. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$in</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> with an <tt class="docutils literal"><span class="pre">age</span></tt> field
that is <em>one</em> of the first six prime numbers, including all of the
following documents:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">7</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">11</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">3</span> <span class="p">}</span>
</pre></div>
</div>
<p>When the field that <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a> inspects (i.e. <tt class="docutils literal"><span class="pre">age</span></tt> in the
above example) is itself an array, only <em>one</em> of the values in the
array must match <em>one</em> of the values in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a>
array. Therefore, the following query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$in</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>will match both of the following documents:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span> <span class="p">]</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span> <span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_nin">
<tt class="descname">$nin</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nin" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nin" title="$nin"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$nin</span></tt></a> operator provides a “not in,” as the inverse of
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a>. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$nin</span><span class="o">:</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the value of <tt class="docutils literal"><span class="pre">age</span></tt>
is <em>not</em> 3, 5, or 7.</p>
</dd></dl>

</div>
<div class="section" id="geolocation">
<span id="geolocation-operators"></span><h3>Geolocation<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#geolocation" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A geospatial index <em>must</em> exist on a field holding coordinates
before using any of the geolocation query operators.</p>
</div>
<dl class="operator">
<dt id="_S_near">
<tt class="descname">$near</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_near" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_near" title="$near"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$near</span></tt></a> operator takes an argument, coordinates in
the form of <tt class="docutils literal"><span class="pre">[x,</span> <span class="pre">y]</span></tt>, and returns a list of objects sorted
by distance from those coordinates. See the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$near</span><span class="o">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query will return 100 ordered records with a <tt class="docutils literal"><span class="pre">location</span></tt>
field in <tt class="docutils literal"><span class="pre">collection</span></tt>. Specify a different limit using the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/javascript/#cursor.limit" title="cursor.limit"><tt class="xref mongodb mongodb-func docutils literal"><span class="pre">cursor.limit()</span></tt></a>, or another <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#geolocation-operators"><em>geolocation operator</em></a>, or a non-geospatial operator to limit the
results of the query.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_maxDistance">
<tt class="descname">$maxDistance</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_maxDistance" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_maxDistance" title="$maxDistance"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$maxDistance</span></tt></a> operator specifies an upper bound to limit
the results of a geolocation query. See below, where the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_maxDistance" title="$maxDistance"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$maxDistance</span></tt></a> operator narrows the results of the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_near" title="$near"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$near</span></tt></a> query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$near</span><span class="o">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="nx">$maxDistance</span><span class="o">:</span> <span class="mi">10</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query will return documents with <tt class="docutils literal"><span class="pre">location</span></tt> fields from
<tt class="docutils literal"><span class="pre">collection</span></tt> that have values with a distance of 5 or fewer units
from the point <tt class="docutils literal"><span class="pre">[100,100]</span></tt>. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_near" title="$near"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$near</span></tt></a> returns results
ordered by their distance from <tt class="docutils literal"><span class="pre">[100,100]</span></tt>. This operation will
return the first 100 results unless you modify the query with the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/javascript/#cursor.limit" title="cursor.limit"><tt class="xref mongodb mongodb-func docutils literal"><span class="pre">cursor.limit()</span></tt></a> method.</p>
<p>Specify the value of the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_maxDistance" title="$maxDistance"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$maxDistance</span></tt></a> argument in the
same units as the document coordinate system.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_within">
<tt class="descname">$within</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="$within"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$within</span></tt></a> operator allows you to select items that exist
within a shape on a coordinate system. This operator uses the
following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$within</span><span class="o">:</span> <span class="p">{</span> <span class="nx">shape</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Replace <tt class="docutils literal"><span class="pre">{</span> <span class="pre">shape</span> <span class="pre">}</span></tt> with a document that describes a shape. The
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="$within"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$within</span></tt></a> command supports three shapes. These shapes and the
relevant expressions follow:</p>
<ul>
<li><p class="first">Rectangles. Use the <tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$box</span></tt> shape, consider the following
variable and <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="$within"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$within</span></tt></a> document:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$within</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$box</span><span class="o">:</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span><span class="mi">100</span><span class="p">]]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here a box, <tt class="docutils literal"><span class="pre">[[100,120],</span> <span class="pre">[100,0]]</span></tt> describes the parameter
for the query. As a minimum, you must specify the lower-left and
upper-right corners of the box.</p>
</li>
<li><p class="first">Circles. Specify circles in the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$within</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$circle</span><span class="o">:</span> <span class="p">[</span> <span class="nx">center</span><span class="p">,</span> <span class="nx">radius</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Polygons. Specify polygons with an array of points. See the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">location</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$within</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$box</span><span class="o">:</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span><span class="mi">120</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">240</span><span class="p">,</span><span class="mi">200</span><span class="p">]]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>The last point of a polygon is implicitly connected to the first
point.</p>
</li>
</ul>
<p>All shapes include the border of the shape as part of the shape,
although this is subject to the imprecision of floating point
numbers.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_uniqueDocs">
<tt class="descname">$uniqueDocs</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_uniqueDocs" title="Permalink to this definition">¶</a></dt>
<dd><p>When using the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/commands/#geoNear" title="geoNear"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">geoNear</span></tt></a>, if document contains more than
one field with coordinate values, MongoDB will return the same
document multiple times. When using the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="$within"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$within</span></tt></a>,
however, MongoDB provides opposite behavior: if a document contains
more than one field with coordinate values, MongoDB will only
return the document once.</p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_uniqueDocs" title="$uniqueDocs"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$uniqueDocs</span></tt></a> operator overrides these default
behaviors.</p>
<p>By specifying <tt class="docutils literal"><span class="pre">$uniqueDocs:</span> <span class="pre">false</span></tt> in a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_within" title="$within"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$within</span></tt></a>
query, will cause the query to return a single document multiple
times if there is more than one match.</p>
<p>By contrast, if you specify <tt class="docutils literal"><span class="pre">uniqueDocs:</span> <span class="pre">true</span></tt> as an option to
the a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/commands/#geoNear" title="geoNear"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">geoNear</span></tt></a> command, then <a class="reference internal" href="http://docs.mongodb.org/manual/reference/commands/#geoNear" title="geoNear"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">geoNear</span></tt></a> only
returns a single document even if there are multiple matches.</p>
<p>You cannot specify <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_uniqueDocs" title="$uniqueDocs"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$uniqueDocs</span></tt></a> with <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_near" title="$near"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$near</span></tt></a>
or haystack queries.</p>
</dd></dl>

</div>
<div class="section" id="logical">
<h3>Logical<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#logical" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_or">
<tt class="descname">$or</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_or" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 1.6.</span></p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_or" title="$or"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$or</span></tt></a> operator provides a Boolean <tt class="docutils literal"><span class="pre">OR</span></tt> expression in
queries. Use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_or" title="$or"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$or</span></tt></a> to match documents against two or more
expressions. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$or:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">key1</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">key2</span><span class="o">:</span> <span class="nx">value2</span><span class="p">}</span> <span class="p">]</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> that <em>either</em> have a
<tt class="docutils literal"><span class="pre">key1</span></tt> field with <tt class="docutils literal"><span class="pre">value1</span></tt> <em>or</em> a <tt class="docutils literal"><span class="pre">key2</span></tt> field with <tt class="docutils literal"><span class="pre">value2</span></tt>.</p>
<p>You may specify a field and then use the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_or" title="$or"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$or</span></tt></a> operator to
further narrow results. Consider the following:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="s2">"19"</span><span class="p">,</span> <span class="nx">$or:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">key1</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">key2</span><span class="o">:</span> <span class="nx">value2</span><span class="p">}</span> <span class="p">]</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> with an <tt class="docutils literal"><span class="pre">age</span></tt>
field that has the value <tt class="docutils literal"><span class="pre">19</span></tt>, and <em>either</em> a <tt class="docutils literal"><span class="pre">key1</span></tt> field with
<tt class="docutils literal"><span class="pre">value1</span></tt> <em>or</em> a <tt class="docutils literal"><span class="pre">key2</span></tt> field with <tt class="docutils literal"><span class="pre">value2</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_nor">
<tt class="descname">$nor</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nor" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nor" title="$nor"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$nor</span></tt></a> operators provides a Boolean <tt class="docutils literal"><span class="pre">NOR</span></tt> expression in
queries. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nor" title="$nor"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$nor</span></tt></a> is the functional inverse of <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_or" title="$or"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$or</span></tt></a>. Use
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nor" title="$nor"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$nor</span></tt></a> to exclude documents that have fields with specific
values. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$nor</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">key1</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">key2</span><span class="o">:</span> <span class="nx">value2</span><span class="p">}</span> <span class="p">]</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> that have <em>neither</em> a
<tt class="docutils literal"><span class="pre">key1</span></tt> field with <tt class="docutils literal"><span class="pre">value1</span></tt> <em>nor</em> a <tt class="docutils literal"><span class="pre">key2</span></tt> field with
<tt class="docutils literal"><span class="pre">value2</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_and">
<tt class="descname">$and</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_and" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.0.</span></p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_and" title="$and"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$and</span></tt></a> operator provides a Boolean <tt class="docutils literal"><span class="pre">AND</span></tt> expression in
queries. Use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_and" title="$and"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$and</span></tt></a> to return the documents that satisfy <em>all</em>
included expressions. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$and</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">key1</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">key2</span><span class="o">:</span> <span class="nx">value2</span><span class="p">}</span> <span class="p">]</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> that have <em>both</em> a
<tt class="docutils literal"><span class="pre">key1</span></tt> field with <tt class="docutils literal"><span class="pre">value1</span></tt> <em>and</em> a <tt class="docutils literal"><span class="pre">key2</span></tt> field with
<tt class="docutils literal"><span class="pre">value2</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_not">
<tt class="descname">$not</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a> is a meta operator used to reverse the operation
of a standard operator. If a document does not match a query statement,
passing that query statement to the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a> will return
that document. The operation of <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a> is consistent with
the behavior of other operators, but may yield unexpected results
with some data types, like arrays.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a> only affects <em>other operators</em>, and is unable to
check fields and documents independently. Use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_ne" title="$ne"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$ne</span></tt></a> to
test the contents of fields directly and <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_nor" title="$nor"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$nor</span></tt></a> for
logical disjunctions.</p>
<p>Consider the following example of <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$not</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$type</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This query returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where <tt class="docutils literal"><span class="pre">field</span></tt>
is <em>not</em> a string, using the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="$type"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$type</span></tt></a> operator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a> operator does not support operations with
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a>.</p>
<p>When using <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_not" title="$not"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$not</span></tt></a>, pass all regular expressions using
the native BSON type. For example, consider the following
expression fragment  in Python, using the PyMongo driver:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="p">{</span> <span class="s">"$not"</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">"acme.*corp"</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="admonition-see admonition seealso">
<p class="first admonition-title">See</p>
<p class="last">The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="$type"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$type</span></tt></a> operator, used in the above example.</p>
</div>
</dd></dl>

</div>
<div class="section" id="element">
<h3>Element<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#element" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_type">
<tt class="descname">$type</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="$type"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$type</span></tt></a> operator matches field values with a specific data
type. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="$type"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$type</span></tt></a> operator allows you to narrow results based on any
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-bson"><em class="xref std std-term">BSON</em></a> type. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$type</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the value of
<tt class="docutils literal"><span class="pre">field</span></tt> is a string. Consider the following chart for the
available types and their corresponding numbers.</p>
<table border="1" class="docutils">
<colgroup>
<col width="70%">
<col width="30%">
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Type</strong></td>
<td><strong>Number</strong></td>
</tr>
<tr class="row-even"><td>Double</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>String</td>
<td>2</td>
</tr>
<tr class="row-even"><td>Object</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>Array</td>
<td>4</td>
</tr>
<tr class="row-even"><td>Binary data</td>
<td>5</td>
</tr>
<tr class="row-odd"><td>Object id</td>
<td>7</td>
</tr>
<tr class="row-even"><td>Boolean</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>Date</td>
<td>9</td>
</tr>
<tr class="row-even"><td>Null</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>Regular Expression</td>
<td>11</td>
</tr>
<tr class="row-even"><td>JavaScript</td>
<td>13</td>
</tr>
<tr class="row-odd"><td>Symbol</td>
<td>14</td>
</tr>
<tr class="row-even"><td>JavaScript (with scope)</td>
<td>15</td>
</tr>
<tr class="row-odd"><td>32-bit integer</td>
<td>16</td>
</tr>
<tr class="row-even"><td>Timestamp</td>
<td>17</td>
</tr>
<tr class="row-odd"><td>64-bit integer</td>
<td>18</td>
</tr>
<tr class="row-even"><td>Min key</td>
<td>255</td>
</tr>
<tr class="row-odd"><td>Max key</td>
<td>127</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Query statements cannot use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_type" title="$type"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$type</span></tt></a> to test arrays
(i.e. <tt class="docutils literal"><span class="pre">4</span></tt>.) Instead use an operation with the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> that resembles the following:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$where</span> <span class="o">:</span> <span class="s2">"Array.isArray(this.field)"</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p class="last">See the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-1475">SERVER-1475</a> for more information about the
array type.</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_regex">
<tt class="descname">$regex</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a> operator provides regular expression
capabilities in queries. MongoDB uses Perl compatible regular
expressions (i.e. “PCRE.”))The following examples are equivalent:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="sr">/acme.*corp/i</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$regex</span><span class="o">:</span> <span class="s1">'acme.*corp'</span><span class="p">,</span> <span class="nx">$options</span><span class="o">:</span> <span class="s1">'i'</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>These expressions match all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the
value of <tt class="docutils literal"><span class="pre">field</span></tt> matches the case-insensitive regular expression
<tt class="docutils literal"><span class="pre">acme.*corp</span></tt>.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a> uses “Perl Compatible Regular Expressions” (PCRE) as the
matching engine.</p>
<dl class="operator">
<dt id="_S_options">
<tt class="descname">$options</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_options" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a> provides four option flags:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">i</span></tt> toggles case insensitivity, and allows all letters in the
pattern to match upper and lower cases.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m</span></tt> toggles multiline regular expression. Without this option,
all regular expression match within one line.</p>
<p>If there are no newline characters (e.g. <tt class="docutils literal"><span class="pre">\n</span></tt>) or no
start/end of line construct, the <tt class="docutils literal"><span class="pre">m</span></tt> option has no effect.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">x</span></tt> toggles an “extended” capability. When set,
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a> ignores all white space characters unless
escaped or included in a character class.</p>
<p>Additionally, it ignores characters between an un-escaped <tt class="docutils literal"><span class="pre">#</span></tt>
character and the next new line, so that you may include
comments in complicated patterns. This only applies to data
characters; white space characters may never appear within
special character sequences in a pattern.</p>
<p>The <tt class="docutils literal"><span class="pre">x</span></tt> option does not affect the handling of the VT character
(i.e. code 11.)</p>
</li>
</ul>
<p class="versionadded">
<span class="versionmodified">New in version 1.9.0.</span></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> allows the dot (e.g. <tt class="docutils literal"><span class="pre">.</span></tt>) character to match all
characters <em>including</em> newline characters.</li>
</ul>
<p><em class="xref std std-option">$regex</em> only provides the <tt class="docutils literal"><span class="pre">i`</span> <span class="pre">and</span> <span class="pre">``m</span></tt> options in the
short JavaScript syntax (i.e. <tt class="docutils literal"><span class="pre">/acme.*corp/i</span></tt>). To use <tt class="docutils literal"><span class="pre">x</span></tt>
and <tt class="docutils literal"><span class="pre">s</span></tt> you must use the “<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a>” operator with the
“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_options" title="$options"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$options</span></tt></a>” syntax.</p>
</dd></dl>

<p>To combine a regular expression match with other operators, you
need to specify the “<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a>” operator. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">$regex</span><span class="o">:</span> <span class="sr">/acme.*corp/i</span><span class="p">,</span> <span class="nx">$nin</span><span class="o">:</span> <span class="p">[</span> <span class="s1">'acmeblahcorp'</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This expression returns all instances of <tt class="docutils literal"><span class="pre">field</span></tt> in
<tt class="docutils literal"><span class="pre">collection</span></tt> that match the case insensitive regular expression
<tt class="docutils literal"><span class="pre">acme.*corp</span></tt> that <em>don’t</em> match <tt class="docutils literal"><span class="pre">acmeblahcorp</span></tt>.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_regex" title="$regex"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$regex</span></tt></a> uses <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-index"><em class="xref std std-term">indexes</em></a> only when the
regular expression has an anchor for the beginning (i.e. <tt class="docutils literal"><span class="pre">^</span></tt>)
of a string. Additionally, while <tt class="docutils literal"><span class="pre">/^a/</span></tt>, <tt class="docutils literal"><span class="pre">/^a.*/</span></tt>, and
<tt class="docutils literal"><span class="pre">/^a.*$/</span></tt> are equivalent, they have different performance
characteristics. All of these expressions use an index if an
appropriate index exists; however, <tt class="docutils literal"><span class="pre">/^a.*/</span></tt>, and <tt class="docutils literal"><span class="pre">/^a.*$/</span></tt>
are slower. <tt class="docutils literal"><span class="pre">/^a/</span></tt> can stop scanning after matching the prefix.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_mod">
<tt class="descname">$mod</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_mod" title="$mod"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$mod</span></tt></a> operator performs a fast “modulo” query, to
reduce the need for expensive <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> operator in some
cases. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_mod" title="$mod"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$mod</span></tt></a> performs a modulo operation on the value of
a field, and returns all documents that with the specified remainder value. For
example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$mod</span><span class="o">:</span> <span class="p">[</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">m</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> with a remainder of <tt class="docutils literal"><span class="pre">m</span></tt>,
with a divisor of <tt class="docutils literal"><span class="pre">d</span></tt>. This replaces the following
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> operation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="s2">"field % d == m"</span> <span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="javascript">
<h3>JavaScript<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#javascript" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_where">
<tt class="descname">$where</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> operator to pass a string containing a
JavaScript expression to the query system to provide greater
flexibility with queries. Consider the following:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$where</span><span class="o">:</span> <span class="s2">"this.a == this.b"</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> evaluates JavaScript and cannot take
advantage of indexes.  Therefore, query performance improves
when you express your query using the standard MongoDB operators
(e.g., <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_gt" title="$gt"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$gt</span></tt></a>, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_in" title="$in"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$in</span></tt></a>).</p>
<p class="last">In general, you should use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> only when you
can’t express your query using another operator.  If you must
use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a>, try to include at least one other
standard query operator to filter the result set. Using
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_where" title="$where"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$where</span></tt></a> alone requires a table scan.</p>
</div>
</dd></dl>

</div>
<div class="section" id="array">
<h3>Array<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#array" title="Permalink to this headline">¶</a></h3>
<dl class="operator">
<dt id="_S_size">
<tt class="descname">$size</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_size" title="$size"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$size</span></tt></a> operator matches any array with the number of
elements specified by the arguement. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$size</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where <tt class="docutils literal"><span class="pre">field</span></tt> is an array
with 2 or more elements. For instance, the above expression will
return <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">[</span> <span class="pre">red,</span> <span class="pre">green</span> <span class="pre">]</span> <span class="pre">}</span></tt> and <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">[</span> <span class="pre">apple,</span>
<span class="pre">lime</span> <span class="pre">]</span> <span class="pre">}</span></tt> but <em>not</em> <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">fruit</span> <span class="pre">}</span></tt> or <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">[</span>
<span class="pre">orange,</span> <span class="pre">lemon,</span> <span class="pre">grapefruit</span> <span class="pre">]</span> <span class="pre">}</span></tt>. To match fields with only one
element within an array use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_size" title="$size"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$size</span></tt></a> with a value of 1, as
follows:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$size</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_size" title="$size"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$size</span></tt></a> does not accept ranges of values. To select
documents based on fields with different numbers of elements,
create a counter field that you increment when you add elements to
a field.</p>
<p>Queries cannot use indexes for the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_size" title="$size"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$size</span></tt></a> portion of a
query, although the other portions of a query can use indexes if
applicable.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_elemMatch">
<tt class="descname">$elemMatch</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_elemMatch" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 1.4.</span></p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_elemMatch" title="$elemMatch"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$elemMatch</span></tt></a> operator matches more than one component within
an array element. For example,</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">array</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$elemMatch</span><span class="o">:</span> <span class="p">{</span> <span class="nx">value1</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">value2</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>returns all documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where the array <tt class="docutils literal"><span class="pre">array</span></tt>
satisfies all of the conditions in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_elemMatch" title="$elemMatch"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$elemMatch</span></tt></a>
expression, or where the value of <tt class="docutils literal"><span class="pre">value1</span></tt> is 1 and the value of
<tt class="docutils literal"><span class="pre">value2</span></tt> is greater than 1. Matching arrays must have one element
that matches all specified criteria. Therefore, the following
document would not match the above query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">array</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">value1</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span> <span class="nx">value2</span><span class="o">:</span><span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">value1</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span> <span class="nx">value2</span><span class="o">:</span><span class="mi">2</span> <span class="p">}</span> <span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
<p>while the following document would match this query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">array</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">value1</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span> <span class="nx">value2</span><span class="o">:</span><span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">value1</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span> <span class="nx">value2</span><span class="o">:</span><span class="mi">2</span> <span class="p">}</span> <span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="update">
<span id="update-operators"></span><h2>Update<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#update" title="Permalink to this headline">¶</a></h2>
<dl class="operator">
<dt id="_S_set">
<tt class="descname">$set</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_set" title="$set"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$set</span></tt></a> operator to set a particular value. The
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_set" title="$set"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$set</span></tt></a> operator requires the following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$set</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="nx">value2</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This statement updates in the document in <tt class="docutils literal"><span class="pre">collection</span></tt> where
<tt class="docutils literal"><span class="pre">field</span></tt> matches <tt class="docutils literal"><span class="pre">value1</span></tt> by replacing the value of the field
<tt class="docutils literal"><span class="pre">field1</span></tt> with <tt class="docutils literal"><span class="pre">value2</span></tt>. This operator will add the specified
field or fields if they do not exist in this document <em>or</em> replace
the existing value of the specified field(s) if they already exist.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_unset">
<tt class="descname">$unset</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_unset" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_unset" title="$unset"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$unset</span></tt></a> operator deletes a particular field. Consider the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$unset</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="s2">""</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>The above example deletes <tt class="docutils literal"><span class="pre">field1</span></tt> in <tt class="docutils literal"><span class="pre">collection</span></tt> from
documents where <tt class="docutils literal"><span class="pre">field</span></tt> has a value of <tt class="docutils literal"><span class="pre">value1</span></tt>. The value of
specified for the value of the field in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_unset" title="$unset"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$unset</span></tt></a> statement
(i.e. <tt class="docutils literal"><span class="pre">""</span></tt> above,) does not impact the operation.</p>
<p>If documents match the initial query (e.g. <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">value1</span> <span class="pre">}</span></tt>
above) but do not have the field specified in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_unset" title="$unset"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$unset</span></tt></a>
operation, (e.g. <tt class="docutils literal"><span class="pre">field1</span></tt>) there the statement has no effect on
the document.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_inc">
<tt class="descname">$inc</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_inc" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_inc" title="$inc"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$inc</span></tt></a> operator increments a value by a specified
amount if field is present in the document. If the field does not
exist, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_inc" title="$inc"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$inc</span></tt></a> sets field to the number value. For
example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$inc</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="nx">amount</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>In this example, for documents in <tt class="docutils literal"><span class="pre">collection</span></tt> where
<tt class="docutils literal"><span class="pre">field</span></tt> has the value <tt class="docutils literal"><span class="pre">value</span></tt>, the value of <tt class="docutils literal"><span class="pre">field1</span></tt>
increments by the value of <tt class="docutils literal"><span class="pre">amount</span></tt>. The above operation only
increments the <em>first</em> matching document <em>unless</em> you specify
multi-update:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$inc</span><span class="o">:</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"John"</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$inc</span><span class="o">:</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>In the first example all documents that have an <tt class="docutils literal"><span class="pre">age</span></tt> field with
the value of <tt class="docutils literal"><span class="pre">20</span></tt>, the operation increases <tt class="docutils literal"><span class="pre">age</span></tt> field by
one. In the second example, in all documents where the <tt class="docutils literal"><span class="pre">name</span></tt>
field has a value of <tt class="docutils literal"><span class="pre">John</span></tt> the operation increases the value
of the <tt class="docutils literal"><span class="pre">age</span></tt> field by one.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_inc" title="$inc"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$inc</span></tt></a> accepts positive and negative incremental amounts.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_push">
<tt class="descname">$push</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> operator appends a specified value to an array. For
example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$push</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> appends <tt class="docutils literal"><span class="pre">value1</span></tt> to the array identified by
<tt class="docutils literal"><span class="pre">value</span></tt> in <tt class="docutils literal"><span class="pre">field</span></tt>. Be aware of the following behaviors:</p>
<ul class="simple">
<li>If the field specified in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> statement
(e.g. <tt class="docutils literal"><span class="pre">{</span> <span class="pre">$push:</span> <span class="pre">{</span> <span class="pre">field:</span> <span class="pre">value1</span> <span class="pre">}</span> <span class="pre">}</span></tt>) does not exist in the
matched document, the operation adds a new array with the
specified field and value (e.g. <tt class="docutils literal"><span class="pre">value1</span></tt>) to the matched
document.</li>
<li>The operation will fail if the field specified in the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> statement is <em>not</em> an array. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a>
does not fail when pushing a value to a non-existant field.</li>
<li>If <tt class="docutils literal"><span class="pre">value1</span></tt> is an array itself, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> appends the whole array as an
element in the identified array. To add multiple items to an
array, use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="$pushAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pushAll</span></tt></a>.</li>
</ul>
</dd></dl>

<dl class="operator">
<dt id="_S_pushAll">
<tt class="descname">$pushAll</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="$pushAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pushAll</span></tt></a> operator is similar to the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a> but
adds the ability to append several values to an array at once.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$pushAll</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="p">[</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">value2</span><span class="p">,</span> <span class="nx">value3</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="$pushAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pushAll</span></tt></a> appends the values in <tt class="docutils literal"><span class="pre">[</span> <span class="pre">value1,</span> <span class="pre">value2,</span>
<span class="pre">value3</span> <span class="pre">]</span></tt> to the array in <tt class="docutils literal"><span class="pre">field1</span></tt> in the document
matched by the statement <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">value</span> <span class="pre">}</span></tt> in <tt class="docutils literal"><span class="pre">collection</span></tt>.</p>
<p>If you specify a single value, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="$pushAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pushAll</span></tt></a> will behave as
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_addToSet">
<tt class="descname">$addToSet</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="$addToSet"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$addToSet</span></tt></a> operator adds a value to an array only <em>if</em> the
value is <em>not</em> in the array already. If the value <em>is</em> in the
array, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="$addToSet"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$addToSet</span></tt></a> returns without modifying the
array. Otherwise, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="$addToSet"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$addToSet</span></tt></a> behaves the same as
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_push" title="$push"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$push</span></tt></a>. Consider the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$addToSet</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="$addToSet"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$addToSet</span></tt></a> appends <tt class="docutils literal"><span class="pre">value1</span></tt> to the array stored in
<tt class="docutils literal"><span class="pre">field</span></tt>, <em>only if</em> <tt class="docutils literal"><span class="pre">value1</span></tt> is not already a member of this
array.</p>
<dl class="operator">
<dt id="_S_each">
<tt class="descname">$each</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_each" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_each" title="$each"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$each</span></tt></a> is available within the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_addToSet" title="$addToSet"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$addToSet</span></tt></a>, which allows you to add multiple values
to the array if they do not exist in the <tt class="docutils literal"><span class="pre">field</span></tt> array in a
single operation. Consider the following prototype:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$addToSet</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$each</span> <span class="o">:</span> <span class="p">[</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">value2</span><span class="p">,</span> <span class="nx">value3</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="operator">
<dt id="_S_pop">
<tt class="descname">$pop</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="$pop"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pop</span></tt></a> operator removes the first or last element of an
array. Pass <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="$pop"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pop</span></tt></a> a value of <tt class="docutils literal"><span class="pre">1`</span></tt> to remove the last element
in an array and a value of <tt class="docutils literal"><span class="pre">-1</span></tt> to remove the first element of an
array. Consider the following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span><span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$pop</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This operation removes the last item of the array in <tt class="docutils literal"><span class="pre">field</span></tt>  in
the document that matches the query statement <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">value</span>
<span class="pre">}</span></tt>. The following example removes the <em>first</em> item of the same
array:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span><span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$pop</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Be aware of the following <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="$pop"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pop</span></tt></a> behaviors:</p>
<ul class="simple">
<li>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="$pop"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pop</span></tt></a> operation fails if <tt class="docutils literal"><span class="pre">field</span></tt> is not an
array.</li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pop" title="$pop"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pop</span></tt></a> will successfully remove the last item in an
array. <tt class="docutils literal"><span class="pre">field</span></tt> will then hold an empty array.</li>
</ul>
<p class="versionadded">
<span class="versionmodified">New in version 1.1.</span></p>
</dd></dl>

<dl class="operator">
<dt id="_S_pull">
<tt class="descname">$pull</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pull" title="$pull"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pull</span></tt></a> operator removes all instances of a value
from an existing array. Consider the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$pull</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pull" title="$pull"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pull</span></tt></a> removes the value <tt class="docutils literal"><span class="pre">value1</span></tt> from the array in <tt class="docutils literal"><span class="pre">field</span></tt>,
in the document that matches the query statement <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">valppppue</span>
<span class="pre">}</span></tt> in <tt class="docutils literal"><span class="pre">collection</span></tt>. If <tt class="docutils literal"><span class="pre">value1</span></tt> existed multiple times in the
<tt class="docutils literal"><span class="pre">field</span></tt> array, <tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">pull</span></tt> would remove all instances of
<tt class="docutils literal"><span class="pre">value1</span></tt> in this array.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_pullAll">
<tt class="descname">$pullAll</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pullAll" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pullAll" title="$pullAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pullAll</span></tt></a> operator removes multiple values from an existing
array. <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pullAll" title="$pullAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pullAll</span></tt></a> provides the inverse operation of the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pushAll" title="$pushAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pushAll</span></tt></a> operator. Consider the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$pullAll</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="p">[</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">value2</span><span class="p">,</span> <span class="nx">value3</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_pullAll" title="$pullAll"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pullAll</span></tt></a> removes <tt class="docutils literal"><span class="pre">[</span> <span class="pre">value1,</span> <span class="pre">value2,</span> <span class="pre">value3</span> <span class="pre">]</span></tt> from
the array in <tt class="docutils literal"><span class="pre">field1</span></tt>, in the document that matches the
query statement <tt class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">value</span> <span class="pre">}</span></tt> in <tt class="docutils literal"><span class="pre">collection</span></tt>.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_rename">
<tt class="descname">$rename</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_rename" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_rename" title="$rename"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$rename</span></tt></a> operator changes the name of a field. Consider the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$rename</span><span class="o">:</span> <span class="p">{</span> <span class="nx">old_field</span><span class="o">:</span> <span class="nx">new_field</span>  <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_rename" title="$rename"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$rename</span></tt></a> operator changes the name of the <tt class="docutils literal"><span class="pre">old_field</span></tt>
field to <tt class="docutils literal"><span class="pre">new_field</span></tt>, in the document that matches the query <tt class="docutils literal"><span class="pre">{</span>
<span class="pre">field:</span> <span class="pre">value</span> <span class="pre">}</span></tt> in <tt class="docutils literal"><span class="pre">collection</span></tt>.</p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_rename" title="$rename"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$rename</span></tt></a> operator will expand arrays and
sub-documents to find a match for field names (e.g. <tt class="docutils literal"><span class="pre">old_field</span></tt>
in the example above.)</p>
<blockquote>
<div><p class="versionadded">
<span class="versionmodified">New in version 1.7.2.</span></p>
</div></blockquote>
</dd></dl>

<dl class="operator">
<dt id="_S_bit">
<tt class="descname">$bit</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_bit" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_bit" title="$bit"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$bit</span></tt></a> operator performs a bitwise update of a field. Only
use this with integer fields. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$bit</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="p">{</span> <span class="nx">and</span><span class="o">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>Here, the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_bit" title="$bit"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$bit</span></tt></a> operator updates the integer value of the field
named <tt class="docutils literal"><span class="pre">field</span></tt> with a bitwise <tt class="docutils literal"><span class="pre">and:</span> <span class="pre">5</span></tt> operation. This
operator only works with number types.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_atomic">
<tt class="descname">$atomic</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_atomic" title="Permalink to this definition">¶</a></dt>
<dd><p>In multi-update mode, it’s possible to specify an
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_atomic" title="$atomic"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$atomic</span></tt></a> “operator” that allows you to <strong>isolate</strong> some
updates from each other within this operation. Consider the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field1</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="nx">$atomic</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">$inc</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">field2</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">,</span>  <span class="kc">false</span> <span class="p">,</span> <span class="kc">true</span> <span class="p">)</span>
</pre></div>
</div>
<p>Without the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_atomic" title="$atomic"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$atomic</span></tt></a> operator, multi-updates will allow
other operations to interleave with this updates. If these
interleaved operations contain writes, the update operation may
produce unexpected results. By specifying <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_atomic" title="$atomic"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$atomic</span></tt></a> you
can garuentee isolation for the entire multi-update.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See <a class="reference internal" href="http://docs.mongodb.org/manual/reference/javascript/#db.collection.update" title="db.collection.update"><tt class="xref mongodb mongodb-func docutils literal"><span class="pre">db.collection.update()</span></tt></a> for more information about the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/javascript/#db.collection.update" title="db.collection.update"><tt class="xref mongodb mongodb-func docutils literal"><span class="pre">db.collection.update()</span></tt></a> method.</p>
</div>
</dd></dl>

</div>
<div class="section" id="projection">
<span id="projection-operators"></span><h2>Projection<a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#projection" title="Permalink to this headline">¶</a></h2>
<dl class="operator">
<dt id="_S_slice">
<tt class="descname">$slice</tt><a class="headerlink" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_slice" title="$slice"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$slice</span></tt></a> operator controls the number of items of an array
that a query returns. Consider the following prototype query:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field</span><span class="o">:</span> <span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">array</span><span class="o">:</span> <span class="p">{</span><span class="nx">$slice</span><span class="o">:</span> <span class="nx">count</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>This operation selects the document <tt class="docutils literal"><span class="pre">collection</span></tt> identified by a
field named <tt class="docutils literal"><span class="pre">field</span></tt> that holds <tt class="docutils literal"><span class="pre">value</span></tt> and returns the number
of elements specified by the value of <tt class="docutils literal"><span class="pre">count</span></tt> from the array
stored in the <tt class="docutils literal"><span class="pre">array</span></tt> field. If <tt class="docutils literal"><span class="pre">count</span></tt> has a value greater
than the number of elements in <tt class="docutils literal"><span class="pre">array</span></tt> the query returns all
elements of the array.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_slice" title="$slice"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$slice</span></tt></a> accepts arguments in a number of formats,
including negative values and arrays. Consider the following
examples:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">comments</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$slice</span><span class="o">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Here, <a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#_S_slice" title="$slice"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$slice</span></tt></a> selects the first five items in an array
in the <tt class="docutils literal"><span class="pre">comments</span></tt> field.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">comments</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$slice</span><span class="o">:</span> <span class="o">-</span><span class="mi">5</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>This operation returns the last five items in array.</p>
<p>The following examples specify an array as an argument to
slice. Arrays take the form of <tt class="docutils literal"><span class="pre">[</span> <span class="pre">skip</span> <span class="pre">,</span> <span class="pre">limit</span> <span class="pre">]</span></tt>, where the
first value indicates the number of items in the array to skip and
the second value indicates the number of items to return.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">comments</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$slice</span><span class="o">:</span> <span class="p">[</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Here, the query will only return 10 items, after skipping the first
20 items of that array.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">comments</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$slice</span><span class="o">:</span> <span class="p">[</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>This operation returns 10 items as well, beginning with the item
that is 20th from the last item of the array.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3>Contents</h3>
<ul>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#">Operator Reference</a><ul>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#query-selectors">Query Selectors</a><ul>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#comparison">Comparison</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#document">Document</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#geolocation">Geolocation</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#logical">Logical</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#element">Element</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#javascript">JavaScript</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#array">Array</a></li>
</ul>
</li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#update">Update</a></li>
<li><a class="reference internal" href="http://docs.mongodb.org/manual/reference/operators/?highlight=#projection">Projection</a></li>
</ul>
</li>
</ul>



<ul class="this-page-menu"><li><strong>Previous:</strong> <a href="http://docs.mongodb.org/manual/reference/configuration-options/" title="previous chapter">Configuration File Options</a></li><li><strong>Next:</strong> <a href="http://docs.mongodb.org/manual/reference/commands/" title="next chapter">Command Reference</a></li>
</ul>
<h3>Manual</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/about/">About MongoDB Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/installation/">Installing MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/applications/">Using MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/administration/">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/replication/">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/sharding/">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/mongo/">Using the MongoDB Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/use-cases/">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/faq/">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="http://docs.mongodb.org/manual/reference/">Reference</a></li>
</ul>

<ul class="this-page-menu">
  <li><strong>Home:</strong> <a href="http://docs.mongodb.org/manual/">MongoDB Manual Home</a></li>
  <li><strong>Contents:</strong> <a href="http://docs.mongodb.org/manual/contents/">MongoDB Manual Contents</a></li>
  <li><strong>Index:</strong> <a href="http://docs.mongodb.org/manual/genindex/">MongoDB Manual Index</a></li>
</ul>
<div id="searchbox" style="">
  <h3>Search</h3>
    <p class="searchtip">Search <strong>this</strong> manual.
    </p><form class="search" action="http://docs.mongodb.org/manual/search/" method="get">
      <input type="text" name="q">
      <input type="submit" value="Search">
      <input type="hidden" name="check_keywords" value="yes">
      <input type="hidden" name="area" value="default">
    </form>
    <p></p>
    <p class="searchtip">Search the MongoDB wiki.
    </p><form class="search" action="http://www.mongodb.org/dosearchsite.action" method="get">
      <input type="text" name="queryString">
      <input type="submit" value="Wiki">
    </form>
    <p></p>
<p class="highlight-link"><a href="javascript:Documentation.hideSearchWords()">Hide Search Matches</a></p></div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="http://docs.mongodb.org/master/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>

<h3>Translations</h3>
<ul class="translation-menu">
  <li><a href="http://jp.docs.mongodb.org/master/reference/operators" rel="nofollow">Japanese</a></li>
  <li><a href="http://cn.docs.mongodb.org/master/reference/operators" rel="nofollow">Chinese</a></li>
  <li><a href="http://docs.mongodb.org/master/reference/operators" rel="nofollow">English</a></li>
</ul><h3>MongoDB Wiki</h3>

<ul>
 <li><strong>Getting Started</strong>
   <ul>
     <li><a href="http://mongodb.org/display/DOCS/Quickstart">Quickstart</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Introduction">Introduction</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Downloads">Downloads</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Features">Features</a></li>
     <li><a href="http://mongodb.org/display/DOCS/SQL+to+MongoDB+Mapping+Chart">SQL to MongoDB Mapping</a></li>
   </ul>
 </li>
 <li><strong><a href="http://mongodb.org/display/DOCS/Developer+Zone">Developer Documentation</a></strong>
   <ul>
     <li><a href="http://mongodb.org/display/DOCS/Connections">Connections</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Databases">Databases</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Collections">Collections</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Documents">Documents</a></li>
     <li><a href="http://mongodb.org/display/DOCS/GridFS">GridFS</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Indexes">Indexes</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Querying">Querying</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Aggregation">Aggregation</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Optimization">Optimization</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Inserting">Inserting</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Updating">Updating</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Removing">Removing</a></li>
     <li><a href="http://mongodb.org/display/DOCS/MapReduce">MapReduce</a></li>
   </ul>
 </li>
 <li><strong><a href="http://mongodb.org/display/DOCS/Admin+Zone">Administrative Documentation</a></strong>
   <ul>
     <li><a href="http://mongodb.org/display/DOCS/Components">Components</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Journaling">Journaling</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Production+Notes">Production Notes</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Replication">Replication</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Sharding">Sharding</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Monitoring+and+Diagnostics">Monitoring and Diagnostics</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Backups">Backups</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Durability+and+Repair">Durability and Repair</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Security+and+Authentication">Security and Authentication</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Starting+and+Stopping+Mongo">Starting/Stopping MongoDB</a></li>
     <li><a href="http://mongodb.org/display/DOCS/GridFS+Tools">GridFS Tools</a></li>
     <li><a href="http://mongodb.org/display/DOCS/DBA+Operations+from+the+Shell">DB Operations from the Shell</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Architecture+and+Components">Architecture and Components</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Windows">Windows</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Troubleshooting">Troubleshooting</a></li>
   </ul>
 </li>
 <li><strong><a href="http://www.mongodb.org/display/DOCS/Community">Community and Ecosystem</a></strong>
   <ul>
     <li><a href="http://10gen.com/">10gen</a></li>
     <li><a href="http://www.mongodb.org/events">MongoDB Events</a></li>
     <li><a href="http://mongodb.org/display/DOCS/MongoDB+Masters">MongoDB Masters</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Slides+and+Video">Slides and Video</a></li>
     <li><a href="http://cookbook.mongodb.org/">Cookbook</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Hosting+Center">Hosting Center</a></li>
     <li><a href="http://mongodb.org/display/DOCS/MongoDB+Monitoring+Service">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
     <li><a href="http://mongodb.org/display/DOCS/Admin+UIs">Administrative Interfaces</a></li>
     <li><a href="http://mongodb.org/display/DOCS/International+Docs">International Documentation</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Books">MongoDB Books</a></li>
   </ul>
 </li>
 <li><strong><a href="http://www.mongodb.org/display/DOCS/Drivers">Drivers</a></strong>
   <ul>
     <li>JavaScript (<a href="http://mongodb.org/display/DOCS/Javascript+Language+Center">wiki</a>, <a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li>Python (<a href="http://mongodb.org/display/DOCS/Python+Language+Center">wiki</a>, <a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li>Ruby (<a href="http://mongodb.org/display/DOCS/Ruby+Language+Center">wiki</a>, <a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li>PHP (<a href="http://mongodb.org/display/DOCS/PHP+Language+Center">wiki</a>, <a href="http://php.net/mongo/">docs</a>)</li>
     <li>Perl (<a href="http://mongodb.org/display/DOCS/Perl+Language+Center">wiki</a>, <a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li>Java (<a href="http://mongodb.org/display/DOCS/Java+Language+Center">wiki</a>, <a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li>Scala (<a href="http://mongodb.org/display/DOCS/Scaa+Language+Center">wiki</a>, <a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
     <li>C# (<a href="http://mongodb.org/display/DOCS/CSharp+Language+Center">wiki</a>, <a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li>C (<a href="http://mongodb.org/display/DOCS/C+Language+Center">wiki</a>, <a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li>C++ (<a href="http://mongodb.org/pages/viewpage.action?pageId=133409">wiki</a>, <a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li>Haskell (<a href="http://mongodb.org/display/DOCS/Haskell+Language+Center">wiki</a>, <a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li>Erlang (<a href="http://mongodb.org/display/DOCS/Erlang+Language+Center">wiki</a>, <a href="http://api.mongodb.org/erlang">docs</a>)</li>
   </ul>
 </li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="http://docs.mongodb.org/manual/search/" method="get">
      <input type="text" name="q">
      <input type="submit" value="Go">
      <input type="hidden" name="check_keywords" value="yes">
      <input type="hidden" name="area" value="default">
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

<div class="footer-nav">

    <div class="related">
      <h3>Navigation</h3>

      <ul>
        <li class="right">| 
<a href="https://github.com/mongodb/docs/blob/master/source/reference/operators.txt" target="_blank">Edit this Page</a> </li>
        <li class="right">| <a href="http://github.com/mongodb/docs" title="Fork the documentation on GitHub to contribute.">GitHub</a></li>
        <li class="right"><a href="http://jira.mongodb.org/browse/DOCS" title="Open a case in Jira to report a problem with the documentation.">Jira</a></li>
        <li><a href="http://docs.mongodb.org/manual/contents/">MongoDB Manual</a> (<a href="http://docs.mongodb.org/manual/genindex/">index</a>)  »</li>
          <li><a href="http://docs.mongodb.org/manual/reference/">Reference</a> »</li> 
      </ul>
    </div></div>
    <div class="footer">
        © Copyright 2011-2012, 10gen, Inc. 
      Last updated on Jul 02, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.

    <p>The MongoDB Documentation Project uses <a href="https://github.com/mongodb/docs">GitHub</a>. Fork the repository and submit pull requests to contribute.</p>
    <p>If you find any issues with the documentation feel free to open a <a href="http://jira.mongodb.org/browse/DOCS">Jira Case</a> and we'll work to resolve it promptly.</p>

    </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7301842-8']);
  _gaq.push(['_setDomainName', 'mongodb.org']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s);
  })();

</script>


    <script type="text/javascript">
      document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script src="docs/munchkin.js" type="text/javascript"></script>
    <script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script>
  
<div style="display: none; " id="hiddenlpsubmitdiv"></div><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body><link rel="stylesheet" type="text/css" href="data:text/css,"></html>